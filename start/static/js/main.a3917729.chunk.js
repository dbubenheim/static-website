(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/micronaut.e89033cf.png"},23:function(e,t,a){e.exports=a(74)},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),s=a.n(l),o=a(17),c=a(18),i=a(19),u=a(22),m=a(21),h=a(6),p=a(3),f=a.n(p),g=a(5),d=a.n(g),E=a(12),v=a.n(E),S=a(13),b=a.n(S),y=a(7),w=a.n(y),k=a(9),j=a.n(k),C="https://micronaut-starter-staging-ucxwqnh6ka-uc.a.run.app",F=[8,9,10,11,12,13,14],N=a(20),x=a.n(N),T=(a(73),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).searchFeature=function(e){var t=e.target.value;if(n.setState({featureSearch:t}),t){var a=new Map(n.state.featuresToSelect),r=Array.from(a.keys()).filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1})),l=new Map;r.forEach((function(e){l.set(e,a.get(e))}));var s=Object.entries(n.mapToObject(l));n.setState({featureSearchResults:s})}else n.setState({featureSearchResults:Object.entries({})})},n.mapToObject=function(e){var t={};return e.forEach((function(e,a){t[a]=e})),t},n.loadAppTypes=function(){fetch(C+"/application-types").then((function(e){if(e.ok)return e.json();throw new Error("Error when checking micronaut versions on GitHub")})).then((function(e){console.log("data",e);var t=[];e.types.forEach((function(e){t.push({name:e.name.toUpperCase(),title:e.title})})),n.setState({types:t})})).catch((function(e){n.setState({error:!0})}))},n.loadFeatures=function(e){console.log("Loading features of ",e),n.setState({loadingFeatures:!0}),fetch(C+"/application-types/"+e+"/features").then((function(e){if(e.ok)return e.json();throw new Error("Error when checking micronaut versions on GitHub")})).then((function(e){console.log("data",e);var t=[];e.features.forEach((function(e){t.push([e.name,e.description])})),n.setState({featuresToSelect:t,loadingFeatures:!1})})).catch((function(e){n.setState({error:!0,loadingFeatures:!1})}))},n.addFeature=function(e){var t,a=n.state.featuresSelected,r=n.state.featuresToSelect,l=n.state.features;a.push(e),l.push(e[0]),r.map((function(a,n){if(a[0]===e[0])return t=n})),r.splice(t,1),n.setState({featuresToSelect:r,featuresSelected:a,features:l,featureSearchResults:Object.entries({}),featureSearch:""})},n.removeFeature=function(e,t,a){e.preventDefault();var r=n.state.featuresSelected,l=n.state.featuresToSelect;r.splice(a,1),l.push(t),n.setState({featuresSelected:r,featuresToSelect:l})},n.generateProject=function(e){e.preventDefault(),n.setState({downloading:!0});var t="";n.state.featuresSelected.forEach((function(e){t+="features="+e[0]+"&"}));var a=C+"/create/"+n.state.type+"/"+n.state.package+"."+n.state.name+"/?"+t+"lang="+n.state.lang+"&build="+n.state.build+"&test="+n.state.testFw+"&javaVersion=JDK_"+n.state.javaVersion;fetch(a,{method:"GET"}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n.state.name+".zip",document.body.appendChild(a),a.click(),a.remove(),n.setState({downloading:!1})}))},n.handleChange=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value)),"type"===e.target.name&&n.loadFeatures(e.target.value)},n.state={name:"",package:"",types:[],type:"DEFAULT",lang:"java",build:"gradle",testFw:"junit",javaVersion:11,loadingFeatures:!1,features:[],featureSearch:"",featuresToSelect:[],featureSearchResults:Object.entries({}),featuresSelected:Object.entries({}),downloading:!1,info:!1,error:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadAppTypes(),this.loadFeatures(this.state.type)}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:x.a,width:"50%",alt:"Micronaut",className:"mn-logo"}),r.a.createElement("div",{className:"mn-container"},r.a.createElement("form",{onSubmit:this.generateProject,autoComplete:"off"},r.a.createElement(w.a,null,r.a.createElement(f.a,{s:4},r.a.createElement(h.Select,{s:12,label:"Application Type",value:this.state.type,name:"type",onChange:this.handleChange},this.state.types.map((function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.title)})))),r.a.createElement(f.a,{s:4},r.a.createElement(j.a,{required:!0,s:12,className:"mn-input",label:"Name",name:"name",placeholder:"ex: myapp",value:this.state.name,onChange:this.handleChange})),r.a.createElement(f.a,{s:4},r.a.createElement(j.a,{required:!0,s:12,className:"mn-input",label:"Base Package",name:"package",placeholder:"ex: com.mycompany",value:this.state.package,onChange:this.handleChange}))),r.a.createElement(w.a,null,r.a.createElement(f.a,{s:3},r.a.createElement(h.Select,{s:12,label:"Language",value:this.state.lang,name:"lang",onChange:this.handleChange},r.a.createElement("option",{value:"java"},"Java"),r.a.createElement("option",{value:"kotlin"},"Kotlin"),r.a.createElement("option",{value:"groovy"},"Groovy"))),r.a.createElement(f.a,{s:3},r.a.createElement(h.Select,{s:12,label:"Build",value:this.state.build,name:"build",onChange:this.handleChange},r.a.createElement("option",{value:"gradle"},"Gradle"),r.a.createElement("option",{value:"maven"},"Maven"))),r.a.createElement(f.a,{s:3},r.a.createElement(h.Select,{s:12,label:"Test Framework",value:this.state.testFw,name:"testFw",onChange:this.handleChange},r.a.createElement("option",{value:"junit"},"JUnit"),r.a.createElement("option",{value:"spock"},"Spock"),r.a.createElement("option",{value:"kotlintest"},"Kotlintest"))),r.a.createElement(f.a,{s:3},r.a.createElement(h.Select,{s:12,label:"Java Version",value:this.state.javaVersion,name:"javaVersion",onChange:this.handleChange},F.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(w.a,null,this.state.loadingFeatures?r.a.createElement(f.a,{s:6},r.a.createElement(b.a,{active:!0,flashing:!1,size:"big"})):r.a.createElement(f.a,{s:6},r.a.createElement(j.a,{className:"mn-input",s:12,label:"Features",placeholder:"ex: cassandra",value:this.state.featureSearch,onChange:this.searchFeature}),this.state.featureSearch&&0===this.state.featureSearchResults.length?r.a.createElement(f.a,{s:12},r.a.createElement("p",{className:"grey-text"},"No results.")):null,this.state.featureSearchResults.map((function(t,a){return r.a.createElement(f.a,{s:12,key:a},r.a.createElement(h.Card,{className:"white mn-feature-selection",title:t[0],onClick:function(){return e.addFeature(t)}},r.a.createElement("p",{className:"grey-text"},t[1])))}))),r.a.createElement(f.a,{s:6},r.a.createElement("b",null,"Selected features"),0===this.state.featuresSelected.length?r.a.createElement("p",{className:"grey-text"},"No features selected."):null,r.a.createElement(w.a,null,this.state.featuresSelected.map((function(t,a){return r.a.createElement(h.Card,{className:"white",title:t[0],key:a},r.a.createElement(w.a,null,r.a.createElement(f.a,{s:11},r.a.createElement("p",{className:"grey-text"},t[1])),r.a.createElement(f.a,{s:1},r.a.createElement(h.Button,{floating:!0,small:!0,className:"black",onClick:function(n){return e.removeFeature(n,t,a)}},r.a.createElement(d.a,null,"close")))))}))))),r.a.createElement(w.a,null,r.a.createElement(f.a,{s:3},r.a.createElement(h.Button,{disabled:this.state.downloading||!this.state.name||!this.state.package||this.state.loadingFeatures,waves:"light",style:{marginRight:"5px",backgroundColor:"black"}},r.a.createElement(d.a,{left:!0},"add"),"Generate project")))),this.state.downloading?r.a.createElement(h.ProgressBar,null):null,this.state.error?r.a.createElement("h5",{style:{color:"red"}},"Oops. An error has ocurred."):null)),r.a.createElement("div",{className:"mn-footer"},r.a.createElement(v.a,{open:this.state.info,header:"What's this?",trigger:r.a.createElement(h.Button,{floating:!0,className:"black",onClick:function(){return e.setState({info:!0})}},r.a.createElement(d.a,null,"info"))},r.a.createElement("p",null,"Micronaut Starter is a web application that allows you to create Micronaut projects through an interface instead of using the console CLI. You can set the application type, the project name, the language (Java, Kotlin, Groovy), the build tool (Maven, Gradle), the Java version and the features you need to develop your software.")),r.a.createElement("a",{href:"https://twitter.com/micronautfw",target:"_blank",rel:"noopener noreferrer",className:"mn-footer-logos"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/23/23931.png",alt:"Twitter",rel:"noopener noreferrer",height:"30px",weight:"30px"})),r.a.createElement("a",{href:"https://github.com/micronaut-projects",target:"_blank",rel:"noopener noreferrer",className:"mn-footer-logos"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25231.svg",alt:"GitHub",rel:"noopener noreferrer",height:"30px",weight:"30px"}))))}}]),a}(n.Component));s.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a3917729.chunk.js.map